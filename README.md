# 学生时代模组兼容分析工具

一个用于分析学生时代游戏模组兼容性的Web应用，能够检测模组中的重复ID，避免游戏冲突。

## 功能特性

📁 **支持同时上传多个模组文件夹**
- 支持点击选择或拖拽上传多个模组文件夹
- 实时显示已选择的文件夹数量和文件数量

🔍 **检测重复ID**
- 自动检测模组中的重复事件ID
- 支持检测物品ID、书籍ID和行动ID
- 生成详细的重复ID报告

📊 **提供详细的分析报告**
- 分析完成后生成直观的分析结果
- 显示每个模组的详细信息
- 统计各类型ID的使用情况

🎨 **主题切换**
- 支持浅色模式和深色模式
- 支持跟随系统主题
- 一键切换，即时生效

🌐 **语言切换**
- 支持简体中文和繁体中文
- 界面元素自动适配所选语言

💾 **导出分析报告**
- 支持将分析结果导出为PNG图片
- 高质量图片，包含完整分析信息
- 文件名自动包含时间戳

⚙️ **可配置的项目设置**
- 支持自定义项目名称、作者和版本
- 支持保存和加载配置
- 支持重置配置

📱 **响应式设计**
- 适配不同屏幕尺寸
- 支持桌面端和移动端
- 优化触摸操作体验

## 启动方式

### 方式一：使用本地HTTP服务器（推荐）

#### Windows系统
1. 双击运行 `start_server.bat` 脚本
2. 浏览器将自动打开 `http://localhost:8000`

#### Linux/macOS系统
1. 打开终端，进入项目目录
2. 运行命令：`chmod +x start_server.sh && ./start_server.sh`
3. 浏览器将自动打开 `http://localhost:8000`

### 手动启动

使用Python 3：
```bash
python -m http.server 8000
```

使用Node.js（需安装http-server）：
```bash
npx http-server -p 8000
```

使用PHP：
```bash
php -S localhost:8000
```

然后在浏览器中访问 `http://localhost:8000`

### 方式二：直接通过文件协议访问

1. 直接双击 `index.html` 文件
2. 或在浏览器中打开 `file:///path/to/your/project/index.html`

注意：某些浏览器可能会限制文件协议下的功能，推荐使用HTTP服务器方式。

## 使用说明

### 1. 准备模组文件夹

确保您的模组文件夹结构符合以下格式：

```
模组文件夹/
└── Cfgs/
    └── zh-cn/
        ├── EvtCfg.json     # 事件配置文件
        ├── ItemCfg.json    # 物品配置文件
        ├── BookCfg.json    # 书籍配置文件
        └── ActionCfg.json  # 行动配置文件
```

### 2. 上传模组文件夹

#### 方式一：点击上传
- 点击上传区域
- 在文件选择对话框中选择一个或多个模组文件夹
- 点击「打开」按钮

#### 方式二：拖拽上传
- 直接拖拽模组文件夹到上传区域
- 等待文件上传完成

### 3. 开始分析

- 点击「开始分析」按钮
- 等待分析完成，查看进度条和统计信息
- 分析完成后，查看详细的分析结果

### 4. 查看分析结果

#### 重复ID检测
- 查看所有重复的事件ID、物品ID、书籍ID和行动ID
- 每个重复ID显示所属的模组名称和文件路径
- 支持折叠/展开查看详细信息

#### 分析摘要
- 查看分析的模组数量、事件数量、物品数量等统计信息
- 显示各类型ID的使用情况
- 支持导出分析报告

### 5. 导出报告

- 点击工具栏的导出报告按钮（💾）
- 等待报告生成完成
- 报告将自动下载为PNG图片

### 6. 调整配置

#### 主题设置
- 点击工具栏的主题切换按钮（🌞/🌙）
- 切换为浅色模式、深色模式或跟随系统

#### 语言设置
- 点击工具栏的语言切换按钮（简/繁）
- 切换为简体中文或繁体中文

## 项目结构

```
.
├── js/                # JavaScript核心文件
│   ├── core/          # 核心模块
│   │   ├── config.js  # 配置管理
│   │   └── language.js # 语言管理
│   ├── analyzer.js    # 分析模块
│   ├── app.js         # 主应用
│   ├── renderer.js    # 结果渲染
│   ├── script.js      # 旧版脚本（备用）
│   ├── uploader.js    # 文件上传
│   └── utils.js       # 工具函数
├── resources/         # 资源文件
│   ├── bg.jpg         # 背景图片
│   └── icon.jpg       # 应用图标
├── config.jsonc       # 配置文件
├── index.html         # 主页面
├── style.css          # 样式文件
├── README.md          # 说明文档
├── start_server.bat   # Windows启动脚本
└── start_server.sh    # Linux/macOS启动脚本
```

## 配置说明

配置文件位于 `config.jsonc`，支持JSONC格式（可添加注释）。

主要配置项：

```jsonc
{
    "projectName": "Student Age LMC",
    "author": "Lince",
    "version": "0.1.0",
    "description": "学生时代模组兼容分析工具，用于检测模组中的重复ID",
    "themeMode": 3, // 0-永昼模式，1-永夜模式，3-跟随系统
    "language": "zh-cn" // zh-cn-简体中文，zh-tw-繁体中文
}
```

## 浏览器兼容性

- Chrome/Edge 80+
- Firefox 75+
- Safari 13+

## 开发说明

### 代码风格

- 使用ES6+语法
- 采用模块化设计
- 遵循单职责原则
- 代码注释清晰

### 调试方法

1. 打开浏览器开发者工具
2. 切换到Console选项卡
3. 查看日志信息和错误提示

### 扩展开发

如需扩展功能，可按照以下步骤进行：

1. 在 `js/core/` 目录下创建新的核心模块
2. 在 `js/` 目录下创建新的功能模块
3. 在 `app.js` 中引入并初始化新模块
4. 在 `index.html` 中添加相应的DOM元素
5. 在 `style.css` 中添加样式

## 更新日志

### v0.2.0

- 优化了WebUI设计，提升用户体验
- 添加了多语言支持（简体中文/繁体中文）
- 完善了深色模式，支持主题切换动画
- 增强了报告导出功能，支持PNG/JSON/Markdown三种格式
- 优化了文件上传体验，支持拖拽上传
- 改进了进度显示，添加详细的统计信息
- 重构了配置管理，支持本地存储和配置文件
- 添加了开发者选项，支持修改项目基本信息
- 优化了启动脚本，支持自动端口检测和备选

### v0.1.0

- 初始版本
- 实现了基本的模组分析功能
- 支持重复ID检测（事件、物品、书籍、行动）
- 支持主题切换
- 支持报告导出为PNG图片

## 许可证

MIT License

## 作者

Lince

## 联系方式

如有问题或建议，欢迎通过以下方式联系：

- GitHub: [lincexu](https://github.com/lincexu)
- Email: lincexu@example.com

## 贡献

欢迎提交Issue和Pull Request，一起完善这个工具！

## 使用协议

本工具仅供学习和研究使用，不得用于商业用途。

使用本工具分析的模组，应遵守相应模组的使用协议。

## 致谢

感谢所有为这个项目做出贡献的开发者和用户！

感谢学生时代游戏开发团队提供了这么有趣的游戏！

## 免责声明

本工具仅用于分析模组兼容性，不保证分析结果的100%准确性。

使用本工具分析模组时，请确保您拥有相应模组的使用权限。

本工具开发者不对使用本工具造成的任何损失负责。
