# 学生时代模组兼容分析工具

一个用于分析学生时代游戏模组兼容性的Web应用，能够检测模组中的重复ID，避免游戏冲突。

## 版本信息

**当前版本：0.2.0beta**

## 核心功能

- 📁 支持同时上传多个模组文件夹
- 🔍 检测重复的事件ID、物品ID、书籍ID和行动ID
- 📊 生成详细的分析报告
- 🎨 支持浅色/深色主题切换
- 💾 导出分析报告为PNG图片
- 📱 支持响应式设计，适配各种设备
- 📋 支持表格横竖列布局切换，支持热更新
- 🎯 数据可视化，直观展示统计信息
- ⚙️ 丰富的设置选项，个性化定制

## 新增功能 (v0.2.0beta)

- ✨ 表格支持横竖列布局切换，支持热更新
- 🎨 优化了表格样式，添加了适当的边框
- 📊 修复了图标重复问题
- 🔤 增大了标题字体，提高了可读性
- 📝 完善了README文档
- 🚀 优化了代码结构，提高了性能

## 环境要求（强烈建议）

- **Python 3**：用于启动本地HTTP服务器
  - 下载链接：[Python官方网站](https://www.python.org/downloads/)
  - 安装完成后，可在命令行中运行 `python --version` 或 `python3 --version` 验证安装

## 快速开始

### 启动方式

#### Windows系统（推荐）
1. 双击运行 `start_server.bat` 脚本
2. 浏览器将自动打开 `http://localhost:8000`

#### Linux/macOS系统（推荐）
1. 打开终端，进入项目目录
2. 运行命令：`chmod +x start_server.sh && ./start_server.sh`
3. 浏览器将自动打开 `http://localhost:8000`

#### 手动启动

使用Python 3：
```bash
python -m http.server 8000
```

然后在浏览器中访问 `http://localhost:8000`

## 使用教程

### 1. 准备模组文件夹

确保您的模组文件夹结构符合以下格式：

```
模组文件夹/
└── Cfgs/
    └── zh-cn/
        ├── EvtCfg.json     # 事件配置文件
        ├── ItemCfg.json    # 物品配置文件
        ├── BookCfg.json    # 书籍配置文件
        └── ActionCfg.json  # 行动配置文件
```

### 2. 上传模组文件夹

#### 方式一：点击上传
1. 点击页面中央的上传区域
2. 在文件选择对话框中选择一个或多个模组文件夹
3. 点击「打开」按钮

#### 方式二：拖拽上传
1. 直接拖拽模组文件夹到上传区域
2. 等待文件上传完成

### 3. 开始分析

1. 确认已选择需要分析的模组文件夹
2. 点击「开始分析」按钮
3. 等待分析完成，查看进度条和统计信息

### 4. 查看分析结果

#### 重复ID检测
- 查看所有重复的事件ID、物品ID、书籍ID和行动ID
- 每个重复ID显示所属的模组名称和文件路径

#### 分析摘要
- 查看分析的模组数量、事件数量、物品数量等统计信息
- 显示各类型ID的使用情况

#### 模组详情
- 查看每个模组的详细信息
- 支持展开/折叠查看详细数据
- 支持表格横竖列布局切换

### 5. 导出报告

1. 点击工具栏的导出报告按钮（💾）
2. 等待报告生成完成
3. 报告将自动下载为PNG图片

### 6. 主题切换

- 点击工具栏的主题切换按钮（🌞/🌙）
- 切换为浅色模式或深色模式

### 7. 表格布局切换

1. 点击工具栏的设置按钮（⚙️）
2. 在设置面板中选择「详情表格布局」
3. 选择「竖列式布局」或「横列式布局」
4. 布局将自动更新，无需刷新页面

## 项目结构

```
学生时代模组兼容分析工具/
├── js/
│   ├── core/
│   │   └── config.js          # 配置管理
│   ├── analyzer.js           # 分析器模块
│   ├── app.js                # 主应用逻辑
│   ├── renderer.js           # 结果渲染模块
│   ├── script.js             # 辅助脚本
│   ├── uploader.js           # 文件上传模块
│   └── utils.js              # 工具函数
├── localization/
│   └── zh-cn/                # 中文本地化文件
│       ├── attributeCN.json
│       └── attributeKeyDesc.json
├── resources/                # 资源文件
│   ├── bg.jpg
│   └── icon.jpg
├── TestMod/                  # 测试用模组
├── js/analyze_json_structure.js # JSON结构分析脚本
├── config.jsonc              # 应用配置文件
├── index.html                # 主页面
├── README.md                 # 项目说明文档
├── start_server.bat          # Windows启动脚本
├── start_server.py           # Python启动脚本
├── start_server.sh           # Linux/macOS启动脚本
└── style.css                 # 样式文件
```

## 技术栈

- **前端框架**：原生JavaScript (ES6+)
- **样式**：CSS3 (使用CSS变量实现主题切换)
- **数据处理**：JavaScript原生JSON解析
- **服务器**：Python内置HTTP服务器
- **开发环境**：任意现代浏览器

## 许可证

MIT License

## 作者

Lince

## 更新日志

### v0.2.0beta (2026-01-24)
- 新增表格横竖列布局切换功能，支持热更新
- 优化了表格样式，添加了适当的边框
- 修复了图标重复问题
- 增大了标题字体，提高了可读性
- 完善了README文档
- 优化了代码结构，提高了性能

### v0.1.0 (2026-01-23)
- 初始版本
- 支持多个模组文件夹上传
- 检测重复的事件ID、物品ID、书籍ID和行动ID
- 生成详细的分析报告
- 支持浅色/深色主题切换
- 导出分析报告为PNG图片

## 环境要求（强烈建议）

- **Python 3**：用于启动本地HTTP服务器
  - 下载链接：[Python官方网站](https://www.python.org/downloads/)
  - 安装完成后，可在命令行中运行 `python --version` 或 `python3 --version` 验证安装

## 快速开始

### 启动方式

#### Windows系统（推荐）
1. 双击运行 `start_server.bat` 脚本
2. 浏览器将自动打开 `http://localhost:8000`

#### Linux/macOS系统（推荐）
1. 打开终端，进入项目目录
2. 运行命令：`chmod +x start_server.sh && ./start_server.sh`
3. 浏览器将自动打开 `http://localhost:8000`

#### 手动启动

使用Python 3：
```bash
python -m http.server 8000
```

然后在浏览器中访问 `http://localhost:8000`

## 使用教程

### 1. 准备模组文件夹

确保您的模组文件夹结构符合以下格式：

```
模组文件夹/
└── Cfgs/
    └── zh-cn/
        ├── EvtCfg.json     # 事件配置文件
        ├── ItemCfg.json    # 物品配置文件
        ├── BookCfg.json    # 书籍配置文件
        └── ActionCfg.json  # 行动配置文件
```

### 2. 上传模组文件夹

#### 方式一：点击上传
1. 点击页面中央的上传区域
2. 在文件选择对话框中选择一个或多个模组文件夹
3. 点击「打开」按钮

#### 方式二：拖拽上传
1. 直接拖拽模组文件夹到上传区域
2. 等待文件上传完成

### 3. 开始分析

1. 确认已选择需要分析的模组文件夹
2. 点击「开始分析」按钮
3. 等待分析完成，查看进度条和统计信息

### 4. 查看分析结果

#### 重复ID检测
- 查看所有重复的事件ID、物品ID、书籍ID和行动ID
- 每个重复ID显示所属的模组名称和文件路径

#### 分析摘要
- 查看分析的模组数量、事件数量、物品数量等统计信息
- 显示各类型ID的使用情况

### 5. 导出报告

1. 点击工具栏的导出报告按钮（💾）
2. 等待报告生成完成
3. 报告将自动下载为PNG图片

### 6. 主题切换

- 点击工具栏的主题切换按钮（🌞/🌙）
- 切换为浅色模式或深色模式

## 许可证

MIT License

## 作者

Lince
